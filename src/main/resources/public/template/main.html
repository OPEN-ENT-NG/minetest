<div ng-controller="MinetestController as vm">

    <div class="minetest-head">
        <h1 class="minetest-head-title">
            <i18n>minetest.title</i18n>
        </h1>

        <!-- button create first world -->
        <create-world data-ng-show="vm.worlds.all.length > 0" on-create-world="vm.refreshWorldList()"></create-world>
    </div>

    <!-- Empty state -->
    <div class="empty-content" data-ng-show="vm.worlds.all.length === 0">
        <img data-ng-src="/minetest/public/img/illustration_sans_monde.svg" class="two" alt="">
        <div class="download-description">
            <i18n>minetest.download.software.link.description</i18n>
            <a href="https://www.minetest.net/downloads/" target=_blank><i18n>minetest.download.software.link</i18n></a>
        </div>
        <div class="empty-state">
            <i18n>minetest.world.empty.state</i18n>
        </div>
        <!-- button create world -->
        <create-world class="empty-state-button" on-create-world="vm.refreshWorldList()"></create-world>

    </div>

    <div data-ng-show="vm.worlds.all.length > 0">
        <!-- search bar -->
        <div class="flex column">
            <span>
                <label>
                    <input type="text" class="cell" ng-model="search" i18n-placeholder="minetest.placeholder.search" autocomplete="off" />
                </label>
            </span>
        </div>

        <!-- world's list -->
        <div class="card-world widget-alerts">
            <div class="twelve grid-block">
                <div class="widget-alert padding-13 card-alert"
                     ng-repeat="world in vm.worlds.all"
                     data-ng-model="selected"
                     ng-class="{selected: world.selected}"
                     data-ng-click="vm.toggleWorld(world)">
                    <div class="twelve flex">
                        <div class="bold">[[world.title]]</div>
                    </div>
                    <div class="twelve margin-top-5 subtitle">
                        <div class="margin-right-5">[[world.owner_name]]</div>
                        <div>[[world.created_at]]</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- toggle menu on click card -->
    <toggle-menu on-delete-world="vm.refreshWorldList()" worlds="vm.worlds"></toggle-menu>

    <!-- display current world -->
    <current-world world="vm.currentWorld"></current-world>
</div>